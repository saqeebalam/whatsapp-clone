{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{MessageCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AuthScreen=()=>{const[isLogin,setIsLogin]=useState(true);const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[displayName,setDisplayName]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{login,register}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);let result;if(isLogin){result=await login(username,password);}else{if(!displayName){setError('Display name is required');setLoading(false);return;}result=await register(username,password,displayName);}setLoading(false);if(result.success){navigate('/chats');}else{setError(result.error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-[#111B21] flex items-center justify-center px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#00A884] w-20 h-20 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(MessageCircle,{className:\"w-10 h-10 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-3xl font-light\",children:\"WhatsApp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#202C33] rounded-lg p-8 shadow-xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-2xl font-light mb-6 text-center\",children:isLogin?'Sign In':'Create Account'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",className:\"w-full bg-[#2A3942] text-white px-4 py-3 rounded-lg outline-none focus:ring-2 focus:ring-[#00A884] transition-all\",value:username,onChange:e=>setUsername(e.target.value),required:true})}),!isLogin&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Display Name\",className:\"w-full bg-[#2A3942] text-white px-4 py-3 rounded-lg outline-none focus:ring-2 focus:ring-[#00A884] transition-all\",value:displayName,onChange:e=>setDisplayName(e.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",className:\"w-full bg-[#2A3942] text-white px-4 py-3 rounded-lg outline-none focus:ring-2 focus:ring-[#00A884] transition-all\",value:password,onChange:e=>setPassword(e.target.value),required:true})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-500/10 border border-red-500 text-red-500 px-4 py-2 rounded-lg text-sm\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-[#00A884] text-white py-3 rounded-lg font-medium hover:bg-[#06cf9c] transition-all disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?'Please wait...':isLogin?'Sign In':'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsLogin(!isLogin);setError('');},className:\"text-[#00A884] hover:underline text-sm\",children:isLogin?\"Don't have an account? Sign Up\":'Already have an account? Sign In'})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 bg-[#202C33]/50 rounded-lg p-4 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-[#8696A0] text-sm\",children:\"Create an account to start chatting with other users\"})})]})});};export default AuthScreen;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","MessageCircle","jsx","_jsx","jsxs","_jsxs","AuthScreen","isLogin","setIsLogin","username","setUsername","password","setPassword","displayName","setDisplayName","error","setError","loading","setLoading","login","register","navigate","handleSubmit","e","preventDefault","result","success","className","children","onSubmit","type","placeholder","value","onChange","target","required","disabled","onClick"],"sources":["C:/Users/91985/Desktop/Project/WhatsappClone/Clone_project/whatsapp-clone/frontend/src/components/AuthScreen.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { MessageCircle } from 'lucide-react';\n\nconst AuthScreen = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  \n  const { login, register } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    let result;\n    if (isLogin) {\n      result = await login(username, password);\n    } else {\n      if (!displayName) {\n        setError('Display name is required');\n        setLoading(false);\n        return;\n      }\n      result = await register(username, password, displayName);\n    }\n\n    setLoading(false);\n\n    if (result.success) {\n      navigate('/chats');\n    } else {\n      setError(result.error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#111B21] flex items-center justify-center px-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo */}\n        <div className=\"flex flex-col items-center mb-8\">\n          <div className=\"bg-[#00A884] w-20 h-20 rounded-full flex items-center justify-center mb-4\">\n            <MessageCircle className=\"w-10 h-10 text-white\" />\n          </div>\n          <h1 className=\"text-white text-3xl font-light\">WhatsApp</h1>\n        </div>\n\n        {/* Auth Form */}\n        <div className=\"bg-[#202C33] rounded-lg p-8 shadow-xl\">\n          <h2 className=\"text-white text-2xl font-light mb-6 text-center\">\n            {isLogin ? 'Sign In' : 'Create Account'}\n          </h2>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <input\n                type=\"text\"\n                placeholder=\"Username\"\n                className=\"w-full bg-[#2A3942] text-white px-4 py-3 rounded-lg outline-none focus:ring-2 focus:ring-[#00A884] transition-all\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n              />\n            </div>\n\n            {!isLogin && (\n              <div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Display Name\"\n                  className=\"w-full bg-[#2A3942] text-white px-4 py-3 rounded-lg outline-none focus:ring-2 focus:ring-[#00A884] transition-all\"\n                  value={displayName}\n                  onChange={(e) => setDisplayName(e.target.value)}\n                  required\n                />\n              </div>\n            )}\n\n            <div>\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                className=\"w-full bg-[#2A3942] text-white px-4 py-3 rounded-lg outline-none focus:ring-2 focus:ring-[#00A884] transition-all\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n\n            {error && (\n              <div className=\"bg-red-500/10 border border-red-500 text-red-500 px-4 py-2 rounded-lg text-sm\">\n                {error}\n              </div>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-[#00A884] text-white py-3 rounded-lg font-medium hover:bg-[#06cf9c] transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Please wait...' : (isLogin ? 'Sign In' : 'Create Account')}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={() => {\n                setIsLogin(!isLogin);\n                setError('');\n              }}\n              className=\"text-[#00A884] hover:underline text-sm\"\n            >\n              {isLogin ? \"Don't have an account? Sign Up\" : 'Already have an account? Sign In'}\n            </button>\n          </div>\n        </div>\n\n        {/* Demo Info */}\n        <div className=\"mt-6 bg-[#202C33]/50 rounded-lg p-4 text-center\">\n          <p className=\"text-[#8696A0] text-sm\">\n            Create an account to start chatting with other users\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}