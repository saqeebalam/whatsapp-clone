{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{ArrowLeft,MoreVertical,Search,Phone,Video,Smile,Paperclip,Mic,Send,Check,CheckCheck}from'lucide-react';import axios from'axios';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");const ChatWindow=()=>{const{conversationId}=useParams();const navigate=useNavigate();const{user}=useAuth();const[message,setMessage]=useState('');const[messages,setMessages]=useState([]);const[otherUser,setOtherUser]=useState(null);const[loading,setLoading]=useState(true);const messagesEndRef=useRef(null);const pollIntervalRef=useRef(null);useEffect(()=>{fetchMessages();// Poll for new messages every 2 seconds\npollIntervalRef.current=setInterval(()=>{fetchMessages();},2000);return()=>{if(pollIntervalRef.current){clearInterval(pollIntervalRef.current);}};},[conversationId]);const fetchMessages=async()=>{try{const response=await axios.get(\"\".concat(API,\"/conversations/\").concat(conversationId,\"/messages\"));setMessages(response.data);// Get conversation details to find other user\nconst convResponse=await axios.get(\"\".concat(API,\"/conversations\"));const currentConv=convResponse.data.find(c=>c.conversationId===conversationId);if(currentConv){setOtherUser(currentConv.otherUser);}setLoading(false);// Mark as read\nawait axios.put(\"\".concat(API,\"/conversations/\").concat(conversationId,\"/read\"));}catch(error){console.error('Failed to fetch messages:',error);setLoading(false);}};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const handleSendMessage=async()=>{if(message.trim()){try{await axios.post(\"\".concat(API,\"/conversations/\").concat(conversationId,\"/messages\"),{text:message});setMessage('');fetchMessages();// Refresh messages immediately\n}catch(error){console.error('Failed to send message:',error);}}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen bg-[#111B21] text-white\",children:\"Loading...\"});}if(!otherUser){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen bg-[#111B21] text-white\",children:\"Chat not found\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-[#0B141A]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#202C33] px-4 py-2 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/chats'),className:\"text-[#8696A0] hover:text-white transition-colors\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(\"img\",{src:otherUser.avatar,alt:otherUser.displayName,className:\"w-10 h-10 rounded-full bg-[#6B7C85]\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-base font-normal\",children:otherUser.displayName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#8696A0] text-xs\",children:otherUser.online?'online':'offline'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-5\",children:[/*#__PURE__*/_jsx(Video,{className:\"w-5 h-5 text-[#8696A0] cursor-pointer hover:text-white transition-colors\"}),/*#__PURE__*/_jsx(Phone,{className:\"w-5 h-5 text-[#8696A0] cursor-pointer hover:text-white transition-colors\"}),/*#__PURE__*/_jsx(MoreVertical,{className:\"w-5 h-5 text-[#8696A0] cursor-pointer hover:text-white transition-colors\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto px-4 py-3\",style:{backgroundImage:\"url(\\\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23182229' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\\\")\"},children:[messages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full text-[#8696A0]\",children:\"No messages yet. Start the conversation!\"}):messages.map(msg=>/*#__PURE__*/_jsx(\"div\",{className:\"flex mb-2 \".concat(msg.senderId===user.userId?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[75%] rounded-lg px-3 py-2 \".concat(msg.senderId===user.userId?'bg-[#005C4B] text-white':'bg-[#202C33] text-white',\" shadow-sm\"),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[14.2px] leading-[19px] break-words\",children:msg.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end gap-1 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[11px] text-[#8696A0]\",children:msg.timestamp}),msg.senderId===user.userId&&/*#__PURE__*/_jsx(\"span\",{className:\"text-[#8696A0]\",children:msg.status==='read'?/*#__PURE__*/_jsx(CheckCheck,{className:\"w-4 h-4 text-[#53BDEB]\"}):msg.status==='delivered'?/*#__PURE__*/_jsx(CheckCheck,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(Check,{className:\"w-4 h-4\"})})]})]})},msg.messageId)),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#202C33] px-3 py-2 flex items-end gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 bg-[#2A3942] rounded-3xl px-4 py-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-[#8696A0] hover:text-white transition-colors\",children:/*#__PURE__*/_jsx(Smile,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Message\",className:\"flex-1 bg-transparent text-white text-[15px] outline-none placeholder-[#8696A0]\",value:message,onChange:e=>setMessage(e.target.value),onKeyPress:handleKeyPress}),/*#__PURE__*/_jsx(\"button\",{className:\"text-[#8696A0] hover:text-white transition-colors\",children:/*#__PURE__*/_jsx(Paperclip,{className:\"w-5 h-5\"})})]}),message.trim()?/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,className:\"bg-[#00A884] w-12 h-12 rounded-full flex items-center justify-center hover:bg-[#06cf9c] transition-all hover:scale-105\",children:/*#__PURE__*/_jsx(Send,{className:\"w-5 h-5 text-[#111B21] ml-0.5\"})}):/*#__PURE__*/_jsx(\"button\",{className:\"bg-[#00A884] w-12 h-12 rounded-full flex items-center justify-center hover:bg-[#06cf9c] transition-all hover:scale-105\",children:/*#__PURE__*/_jsx(Mic,{className:\"w-6 h-6 text-[#111B21]\"})})]})]});};export default ChatWindow;","map":{"version":3,"names":["React","useState","useRef","useEffect","useParams","useNavigate","ArrowLeft","MoreVertical","Search","Phone","Video","Smile","Paperclip","Mic","Send","Check","CheckCheck","axios","useAuth","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","ChatWindow","conversationId","navigate","user","message","setMessage","messages","setMessages","otherUser","setOtherUser","loading","setLoading","messagesEndRef","pollIntervalRef","fetchMessages","current","setInterval","clearInterval","response","get","data","convResponse","currentConv","find","c","put","error","console","scrollToBottom","_messagesEndRef$curre","scrollIntoView","behavior","handleSendMessage","trim","post","text","handleKeyPress","e","key","shiftKey","preventDefault","className","children","onClick","src","avatar","alt","displayName","online","style","backgroundImage","length","map","msg","senderId","userId","timestamp","status","messageId","ref","type","placeholder","value","onChange","target","onKeyPress"],"sources":["C:/Users/91985/Desktop/Project/WhatsappClone/Clone_project/whatsapp-clone/frontend/src/components/ChatWindow.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { ArrowLeft, MoreVertical, Search, Phone, Video, Smile, Paperclip, Mic, Send, Check, CheckCheck } from 'lucide-react';\nimport axios from 'axios';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst ChatWindow = () => {\n  const { conversationId } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [otherUser, setOtherUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const messagesEndRef = useRef(null);\n  const pollIntervalRef = useRef(null);\n\n  useEffect(() => {\n    fetchMessages();\n    \n    // Poll for new messages every 2 seconds\n    pollIntervalRef.current = setInterval(() => {\n      fetchMessages();\n    }, 2000);\n\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, [conversationId]);\n\n  const fetchMessages = async () => {\n    try {\n      const response = await axios.get(`${API}/conversations/${conversationId}/messages`);\n      setMessages(response.data);\n      \n      // Get conversation details to find other user\n      const convResponse = await axios.get(`${API}/conversations`);\n      const currentConv = convResponse.data.find(c => c.conversationId === conversationId);\n      if (currentConv) {\n        setOtherUser(currentConv.otherUser);\n      }\n      \n      setLoading(false);\n      \n      // Mark as read\n      await axios.put(`${API}/conversations/${conversationId}/read`);\n    } catch (error) {\n      console.error('Failed to fetch messages:', error);\n      setLoading(false);\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async () => {\n    if (message.trim()) {\n      try {\n        await axios.post(`${API}/conversations/${conversationId}/messages`, {\n          text: message\n        });\n        setMessage('');\n        fetchMessages(); // Refresh messages immediately\n      } catch (error) {\n        console.error('Failed to send message:', error);\n      }\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-[#111B21] text-white\">\n        Loading...\n      </div>\n    );\n  }\n\n  if (!otherUser) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-[#111B21] text-white\">\n        Chat not found\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-screen bg-[#0B141A]\">\n      {/* Header */}\n      <div className=\"bg-[#202C33] px-4 py-2 flex items-center gap-3\">\n        <button\n          onClick={() => navigate('/chats')}\n          className=\"text-[#8696A0] hover:text-white transition-colors\"\n        >\n          <ArrowLeft className=\"w-6 h-6\" />\n        </button>\n        <img\n          src={otherUser.avatar}\n          alt={otherUser.displayName}\n          className=\"w-10 h-10 rounded-full bg-[#6B7C85]\"\n        />\n        <div className=\"flex-1 min-w-0\">\n          <h2 className=\"text-white text-base font-normal\">{otherUser.displayName}</h2>\n          <p className=\"text-[#8696A0] text-xs\">\n            {otherUser.online ? 'online' : 'offline'}\n          </p>\n        </div>\n        <div className=\"flex items-center gap-5\">\n          <Video className=\"w-5 h-5 text-[#8696A0] cursor-pointer hover:text-white transition-colors\" />\n          <Phone className=\"w-5 h-5 text-[#8696A0] cursor-pointer hover:text-white transition-colors\" />\n          <MoreVertical className=\"w-5 h-5 text-[#8696A0] cursor-pointer hover:text-white transition-colors\" />\n        </div>\n      </div>\n\n      {/* Messages Container */}\n      <div\n        className=\"flex-1 overflow-y-auto px-4 py-3\"\n        style={{\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23182229' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`\n        }}\n      >\n        {messages.length === 0 ? (\n          <div className=\"flex items-center justify-center h-full text-[#8696A0]\">\n            No messages yet. Start the conversation!\n          </div>\n        ) : (\n          messages.map((msg) => (\n            <div\n              key={msg.messageId}\n              className={`flex mb-2 ${msg.senderId === user.userId ? 'justify-end' : 'justify-start'}`}\n            >\n              <div\n                className={`max-w-[75%] rounded-lg px-3 py-2 ${\n                  msg.senderId === user.userId\n                    ? 'bg-[#005C4B] text-white'\n                    : 'bg-[#202C33] text-white'\n                } shadow-sm`}\n              >\n                <p className=\"text-[14.2px] leading-[19px] break-words\">{msg.text}</p>\n                <div className=\"flex items-center justify-end gap-1 mt-1\">\n                  <span className=\"text-[11px] text-[#8696A0]\">{msg.timestamp}</span>\n                  {msg.senderId === user.userId && (\n                    <span className=\"text-[#8696A0]\">\n                      {msg.status === 'read' ? (\n                        <CheckCheck className=\"w-4 h-4 text-[#53BDEB]\" />\n                      ) : msg.status === 'delivered' ? (\n                        <CheckCheck className=\"w-4 h-4\" />\n                      ) : (\n                        <Check className=\"w-4 h-4\" />\n                      )}\n                    </span>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input Area */}\n      <div className=\"bg-[#202C33] px-3 py-2 flex items-end gap-2\">\n        <div className=\"flex-1 bg-[#2A3942] rounded-3xl px-4 py-2 flex items-center gap-2\">\n          <button className=\"text-[#8696A0] hover:text-white transition-colors\">\n            <Smile className=\"w-6 h-6\" />\n          </button>\n          <input\n            type=\"text\"\n            placeholder=\"Message\"\n            className=\"flex-1 bg-transparent text-white text-[15px] outline-none placeholder-[#8696A0]\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n          />\n          <button className=\"text-[#8696A0] hover:text-white transition-colors\">\n            <Paperclip className=\"w-5 h-5\" />\n          </button>\n        </div>\n        {message.trim() ? (\n          <button\n            onClick={handleSendMessage}\n            className=\"bg-[#00A884] w-12 h-12 rounded-full flex items-center justify-center hover:bg-[#06cf9c] transition-all hover:scale-105\"\n          >\n            <Send className=\"w-5 h-5 text-[#111B21] ml-0.5\" />\n          </button>\n        ) : (\n          <button className=\"bg-[#00A884] w-12 h-12 rounded-full flex items-center justify-center hover:bg-[#06cf9c] transition-all hover:scale-105\">\n            <Mic className=\"w-6 h-6 text-[#111B21]\" />\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ChatWindow;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}